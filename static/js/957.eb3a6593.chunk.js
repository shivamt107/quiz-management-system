"use strict";(self.webpackChunkquiz_management=self.webpackChunkquiz_management||[]).push([[957],{957:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var r=t(555),n=t(43),a=t(833);const l=Object.freeze({EASY:"Easy",MEDIUM:"Medium",HARD:"Hard"}),i=Object.freeze({GENERAL:"General Knowledge",SCIENCE:"Science",MATH:"Mathematics",HISTORY:"History",GEOGRAPHY:"Geography",SPORTS:"Sports",TECHNOLOGY:"Technology"});var o=t(579);const c=(0,n.memo)(e=>{let{quizzes:s,onSave:t}=e;const c=(0,a.Zp)(),{id:d}=(0,a.g)(),u=Boolean(d),m=u?s.find(e=>e.id===parseInt(d)):null,[x,p]=(0,n.useState)(m||{title:"",description:"",category:"General Knowledge",difficulty:"Easy",duration:30,questions:[]}),[b,g]=(0,n.useState)({type:"MCQ",question:"",options:["","","",""],correctAnswer:"",points:1}),h=(0,n.useCallback)(e=>{const{name:s,value:t}=e.target;p(e=>(0,r.A)((0,r.A)({},e),{},{[s]:"duration"===s?parseInt(t)||0:t}))},[]),y=(0,n.useCallback)(e=>{const{name:s,value:t}=e.target;g(e=>(0,r.A)((0,r.A)({},e),{},{[s]:t}))},[]),f=(0,n.useCallback)((e,s)=>{g(t=>(0,r.A)((0,r.A)({},t),{},{options:t.options.map((t,r)=>r===e?s:t)}))},[]),j=(0,n.useCallback)(e=>{g("MCQ"===e?s=>(0,r.A)((0,r.A)({},s),{},{type:e,options:["","","",""],correctAnswer:""}):"True/False"===e?s=>(0,r.A)((0,r.A)({},s),{},{type:e,options:["True","False"],correctAnswer:""}):s=>(0,r.A)((0,r.A)({},s),{},{type:e,options:[],correctAnswer:""}))},[]),v=(0,n.useCallback)(()=>{b.question&&("Text"===b.type||b.correctAnswer)&&(p(e=>(0,r.A)((0,r.A)({},e),{},{questions:[...e.questions,(0,r.A)((0,r.A)({},b),{},{id:Date.now()})]})),g({type:"MCQ",question:"",options:["","","",""],correctAnswer:"",points:1}))},[b]),N=(0,n.useCallback)(e=>{p(s=>(0,r.A)((0,r.A)({},s),{},{questions:s.questions.filter(s=>s.id!==e)}))},[]),w=(0,n.useCallback)(e=>{e.preventDefault();const s=(0,r.A)((0,r.A)({},x),{},{questionsCount:x.questions.length,id:u?parseInt(d):Date.now(),createdAt:(null===m||void 0===m?void 0:m.createdAt)||(new Date).toISOString()});t(s,u),c("/")},[x,t,c,u,d,m]);return(0,o.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)("button",{onClick:()=>c("/"),className:"text-blue-600 hover:text-blue-700 font-medium flex items-center gap-2",children:"\u2190 Back to Quizzes"})}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:u?"Edit Quiz":"Create New Quiz"}),(0,o.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quiz Title *"}),(0,o.jsx)("input",{type:"text",id:"title",name:"title",value:x.title,onChange:h,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,o.jsx)("select",{id:"category",name:"category",value:x.category,onChange:h,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Object.values(i).map(e=>(0,o.jsx)("option",{value:e,children:e},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"difficulty",className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),(0,o.jsx)("select",{id:"difficulty",name:"difficulty",value:x.difficulty,onChange:h,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Object.values(l).map(e=>(0,o.jsx)("option",{value:e,children:e},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),(0,o.jsx)("input",{type:"number",id:"duration",name:"duration",value:x.duration,onChange:h,min:"1",max:"180",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,o.jsx)("textarea",{id:"description",name:"description",value:x.description,onChange:h,required:!0,rows:"3",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,o.jsxs)("div",{className:"border-t pt-6",children:[(0,o.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Questions (",x.questions.length,")"]}),(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,o.jsx)("div",{className:"flex gap-4 mb-4",children:["MCQ","True/False","Text"].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>j(e),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(b.type===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:e},e))}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question"}),(0,o.jsx)("input",{type:"text",name:"question",value:b.question,onChange:y,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your question"})]}),"MCQ"===b.type&&(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),b.options.map((e,s)=>(0,o.jsx)("input",{type:"text",value:e,onChange:e=>f(s,e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Option ".concat(s+1)},s))]}),"Text"!==b.type&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correct Answer"}),(0,o.jsxs)("select",{name:"correctAnswer",value:b.correctAnswer,onChange:y,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,o.jsx)("option",{value:"",children:"Select correct answer"}),b.options.map((e,s)=>e&&(0,o.jsx)("option",{value:e,children:e},s))]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),(0,o.jsx)("input",{type:"number",name:"points",value:b.points,onChange:y,min:"1",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,o.jsx)("div",{className:"flex items-end",children:(0,o.jsx)("button",{type:"button",onClick:v,className:"w-full px-4 py-2.5 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Add Question"})})]})]})]}),x.questions.length>0&&(0,o.jsx)("div",{className:"space-y-3",children:x.questions.map((e,s)=>(0,o.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex justify-between items-start",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,o.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded",children:e.type}),(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:[e.points," point",e.points>1?"s":""]})]}),(0,o.jsxs)("p",{className:"font-medium text-gray-900 mb-2",children:["Q",s+1,". ",e.question]}),"Text"!==e.type&&(0,o.jsxs)("div",{className:"text-sm",children:[(0,o.jsx)("p",{className:"text-gray-600 mb-1",children:"Options:"}),(0,o.jsx)("ul",{className:"list-disc list-inside text-gray-700 mb-2",children:e.options.map((s,t)=>(0,o.jsxs)("li",{className:s===e.correctAnswer?"text-green-600 font-medium":"",children:[s," ",s===e.correctAnswer&&"\u2713"]},t))})]})]}),(0,o.jsx)("button",{type:"button",onClick:()=>N(e.id),className:"text-red-600 hover:text-red-700 font-medium",children:"Remove"})]})},e.id))})]}),(0,o.jsxs)("div",{className:"flex gap-4 justify-end border-t pt-6",children:[(0,o.jsx)("button",{type:"button",onClick:()=>c("/"),className:"px-6 py-2.5 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:0===x.questions.length,className:"px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:u?"Update Quiz":"Create Quiz"})]})]})]})]})});c.displayName="CreateEditQuiz";const d=c}}]);
//# sourceMappingURL=957.eb3a6593.chunk.js.map