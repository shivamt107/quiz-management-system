"use strict";(self.webpackChunkquiz_management=self.webpackChunkquiz_management||[]).push([[717],{717:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var n=t(555),a=t(43),l=t(833),r=t(579);const o=(0,a.memo)(e=>{let{quizzes:s}=e;const t=(0,l.Zp)(),{id:o}=(0,l.g)(),i=s.find(e=>e.id===parseInt(o)),c=localStorage.getItem("username"),d="quiz_".concat(o,"_").concat(c),[u,x]=(0,a.useState)(0),[m,b]=(0,a.useState)({}),[g,h]=(0,a.useState)(0);(0,a.useEffect)(()=>{i&&(x(0),b({}),h(60*i.duration))},[i,o,d]),(0,a.useEffect)(()=>{if(i&&g>0){const e={currentQuestionIndex:u,answers:m,timeRemaining:g,quizId:o,username:c};sessionStorage.setItem(d,JSON.stringify(e))}},[u,m,g,i,o,c,d]);const p=(0,a.useCallback)(()=>{const e=i.questions.reduce((e,s)=>"Text"===s.type?e:m[s.id]===s.correctAnswer?e+s.points:e,0),s=i.questions.reduce((e,s)=>"Text"===s.type?e:e+s.points,0);sessionStorage.removeItem(d),t("/quiz/".concat(o,"/results"),{state:{score:e,totalPoints:s,answers:m,quiz:i}})},[m,i,t,o,d]);(0,a.useEffect)(()=>{const e=setInterval(()=>{h(e=>e-1)},1e3);return()=>clearInterval(e)},[g,p,i]);const f=(0,a.useCallback)((e,s)=>{b(t=>(0,n.A)((0,n.A)({},t),{},{[e]:s}))},[]),y=(0,a.useCallback)(()=>{u<i.questions.length-1&&x(e=>e+1)},[u,i]),N=(0,a.useCallback)(()=>{u>0&&x(e=>e-1)},[u]);if(!i||!i.questions||0===i.questions.length)return(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,r.jsx)("p",{className:"text-xl text-gray-600 mb-4",children:"Quiz not found or has no questions"}),(0,r.jsx)("button",{onClick:()=>t("/"),className:"px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})});const j=i.questions[u],v=(u+1)/i.questions.length*100;return(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:i.title}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"bg-white/20 px-4 py-2 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm",children:"Time: "}),(0,r.jsx)("span",{className:"font-bold text-lg",children:(e=>{const s=Math.floor(e/60),t=e%60;return"".concat(s,":").concat(t.toString().padStart(2,"0"))})(g)})]})})]}),(0,r.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:"".concat(v,"%")}})}),(0,r.jsxs)("p",{className:"text-sm mt-2 opacity-90",children:["Question ",u+1," of ",i.questions.length]})]}),(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 mb-6",children:[(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:j.type}),(0,r.jsxs)("span",{className:"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm font-semibold",children:[j.points," ",1===j.points?"point":"points"]})]}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:j.question}),"MCQ"===j.type&&(0,r.jsx)("div",{className:"space-y-3",children:j.options.map((e,s)=>(0,r.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(m[j.id]===e?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"),children:[(0,r.jsx)("input",{type:"radio",name:"question-".concat(j.id),value:e,checked:m[j.id]===e,onChange:e=>f(j.id,e.target.value),className:"w-5 h-5 text-blue-600 focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"ml-3 text-gray-900",children:e})]},s))}),"True/False"===j.type&&(0,r.jsx)("div",{className:"space-y-3",children:j.options.map((e,s)=>(0,r.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(m[j.id]===e?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"),children:[(0,r.jsx)("input",{type:"radio",name:"question-".concat(j.id),value:e,checked:m[j.id]===e,onChange:e=>f(j.id,e.target.value),className:"w-5 h-5 text-blue-600 focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"ml-3 text-gray-900",children:e})]},s))}),"Text"===j.type&&(0,r.jsx)("textarea",{value:m[j.id]||"",onChange:e=>f(j.id,e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-600 focus:ring-2 focus:ring-blue-500 focus:outline-none",rows:"5",placeholder:"Type your answer here..."})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t",children:[(0,r.jsx)("button",{onClick:N,disabled:0===u,className:"px-6 py-2.5 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,r.jsx)("div",{className:"flex gap-2",children:i.questions.map((e,s)=>(0,r.jsx)("button",{onClick:()=>x(s),className:"w-10 h-10 rounded-lg font-medium transition-all ".concat(s===u?"bg-blue-600 text-white":m[i.questions[s].id]?"bg-green-100 text-green-700 border-2 border-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:s+1},s))}),u===i.questions.length-1?(0,r.jsx)("button",{onClick:p,className:"px-6 py-2.5 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Submit Quiz"}):(0,r.jsx)("button",{onClick:y,className:"px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Next"})]})]})]})})});o.displayName="TakeQuiz";const i=o}}]);
//# sourceMappingURL=717.bf2975d1.chunk.js.map