"use strict";(self.webpackChunkquiz_management=self.webpackChunkquiz_management||[]).push([[642],{642:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var l=t(43),a=t(833);const i=Object.freeze({ADMIN:"ADMIN",PUBLIC:"PUBLIC"}),r=Object.freeze({CREATE_QUIZ:"CREATE_QUIZ",EDIT_QUIZ:"EDIT_QUIZ",DELETE_QUIZ:"DELETE_QUIZ",VIEW_QUIZ:"VIEW_QUIZ"}),n=Object.freeze({[i.ADMIN]:[r.CREATE_QUIZ,r.EDIT_QUIZ,r.DELETE_QUIZ,r.VIEW_QUIZ],[i.PUBLIC]:[r.VIEW_QUIZ,r.START_QUIZ]});var o=t(201),c=t(579);const d=()=>(0,c.jsxs)("svg",{className:"inline w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,c.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),x=()=>(0,c.jsxs)("svg",{className:"inline w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,c.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),m=(0,l.memo)(e=>{let{quiz:s,onDelete:t,canDelete:l,canEdit:i,canStart:r}=e;const n=(0,a.Zp)();return(0,c.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow border border-gray-100 flex flex-col h-full",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start gap-2 mb-2",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 flex-1 line-clamp-2",children:s.title}),(0,c.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold whitespace-nowrap ".concat({Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"}[s.difficulty]),children:s.difficulty})]}),(0,c.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed mb-3 line-clamp-2 flex-grow",children:s.description}),(0,c.jsxs)("div",{className:"space-y-2 mb-3 text-xs text-gray-700",children:[(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsx)("span",{className:"truncate",children:s.category})}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsxs)("span",{children:[s.questionsCount," questions"]})}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsxs)("span",{children:[s.duration," min"]})})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-2 pt-2 border-t border-gray-100",children:[r&&(0,c.jsx)("button",{onClick:()=>{const e=localStorage.getItem("username"),t="quiz_".concat(s.id,"_").concat(e);sessionStorage.removeItem(t),n("/quiz/".concat(s.id))},className:"w-full px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Start Quiz"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[i&&(0,c.jsx)("button",{onClick:()=>{n("/edit/".concat(s.id))},className:"p-2 flex justify-center items-center bg-amber-300 text-white rounded-lg hover:bg-amber-700 transition-colors",children:(0,c.jsx)(d,{})}),l&&(0,c.jsx)("button",{onClick:()=>{window.confirm('Are you sure you want to delete "'.concat(s.title,'"?'))&&t(s.id)},className:"p-2 flex justify-center items-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:(0,c.jsx)(x,{})})]})]})]})},(e,s)=>e.quiz.id===s.quiz.id&&e.canDelete===s.canDelete&&e.canEdit===s.canEdit);m.displayName="QuizCard";const u=m,g=(0,l.memo)(e=>{let{userRole:s}=e;const t=(0,a.Zp)(),[i,d]=(0,l.useState)(1),{hasPermission:x}=(e=>{const s=(0,l.useMemo)(()=>n[e]||[],[e]),t=(0,l.useMemo)(()=>e=>s.includes(e),[s]);return{permissions:s,hasPermission:t}})(s),{quizzes:m,deleteQuiz:g}=(0,o.Z)(),h=(0,l.useMemo)(()=>x(r.CREATE_QUIZ),[x]),b=(0,l.useMemo)(()=>x(r.DELETE_QUIZ),[x]),p=(0,l.useMemo)(()=>x(r.EDIT_QUIZ),[x]),j=(0,l.useMemo)(()=>x(r.START_QUIZ),[x]),f=Math.ceil(m.length/10),y=10*(i-1),v=y+10,w=m.slice(y,v),N=(0,l.useCallback)(e=>{d(e),window.scrollTo({top:0,behavior:"smooth"})},[]),I=(0,l.useCallback)(()=>{t("/create")},[t]);return(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 min-h-screen",children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Quizzes"}),(0,c.jsxs)("p",{className:"text-gray-600 mt-1",children:[m.length," quizzes available"]})]}),h&&(0,c.jsx)("button",{onClick:I,className:"w-full sm:w-auto px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"+ Add New Quiz"})]}),w.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-6",children:w.map(e=>(0,c.jsx)(u,{quiz:e,onDelete:g,canDelete:b,canEdit:p,canStart:j},e.id))}),f>1&&(0,c.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-8",children:[(0,c.jsx)("button",{onClick:()=>N(i-1),disabled:1===i,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,c.jsx)("div",{className:"flex gap-2",children:Array.from({length:f},(e,s)=>s+1).map(e=>(0,c.jsx)("button",{onClick:()=>N(e),className:"px-4 py-2 rounded-lg transition-colors ".concat(i===e?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:e},e))}),(0,c.jsx)("button",{onClick:()=>N(i+1),disabled:i===f,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}):(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center bg-gray-50 rounded-xl",children:[(0,c.jsx)("p",{className:"text-xl text-gray-600 mb-5",children:"No quizzes available"}),h&&(0,c.jsx)("button",{onClick:I,className:"px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Quiz"})]})]})});g.displayName="QuizList";const h=g}}]);
//# sourceMappingURL=642.b32f518f.chunk.js.map